# 一、数据类型及要求


|数据类型| 描述及要求 | 
| :-| :-| 
| BYTE| 无符号单字节整型（字节，8位） | 
|WORD | 无符号单字节整型（字节，16位） | 
|DWORD | 无符号单字节整型（字节，32位） | 
|BYTE[n] | n字节 | 
|STRING| ASCII 字符码，若无数据则放一个 0 终结符，编码表示参见GB/T 1988 所述含汉字时，采用区位码编码，占用 2 个字节，编码表示参见GB 18030 所述。 | 

# 二、数据包结构和定义
#### 一个完整的数据包应由起始符、命令单元、识别码、数据加密方式、数据单元长度、数据单元和校验码组成，数据包结构和定义如下表所示。
|起始字节|定义|数据类型|描述及要求| 备注| 
| :-| :-| :-| :-| :-| 
|0|起始符| STRING|固定为 ASCII 字符‘##’，用“0x23, 0x23”表示。| |
|2|命令标识|BYTE |命令表示定义见3.1|命令单元 |
|3|应答标志 |BYTE|应答标志定义见3.2 |命令单元|
|4|VIN|STRING |VIN，应符合 GB16735 的规定。| |
|21|数据加密方式| BYTE|0x01：数据不加密；0x02：数据经过 RSA 算法加密；0x03:数据经过 AES128 位算法加密；“0xFE”表示异 常，“0xFF”表示无效，其他预留。| |
|22|数据单位长度| WORD|数据单元长度是数据单元的总字节数，有效值范围：0～65531。| |

***

# 三、命令单元说明
###  3.1 命令标识

|编码|定义|查询文件|
| :-| :-| :-| 
|Ox01|车辆登入| vehicleLogin.csv|
|Ox02|实时信息上报| messageReport.csv|
|Ox03|补发信息上报| supMessage.csv|
|Ox04|车辆登出| vehicleLogout.csv|
|Ox05|平台登入| platformLogin.csv|
|Ox06|平台登出| platformLogout.csv|
|Ox07|心跳| palpitation.csv|
|Ox08|终端校时| timing.csv|
|Ox09~Ox7F|上行数据系统预留| updata.csv|
|Ox80|查询命令| scarch.csv|
|Ox81|设置命令| set.csv|
|Ox82|车载终端控制命令| control.csv|
|Ox83~OxBF|下行数据系统预留| downdata.csv|
|OxCO~OxFE|平台交换自定义数据| exchange.csv|

***

|编码|定义|说明|
| :-| :-| :-| 
|Ox01|成功| 接收到信息正确|
|Ox02|错误| 设置未成功|
|Ox03|VIN重复| VIN重复错误|
|Ox04|命令|表示数据包为命令包，而非应答包|

***
###  3.3 时间定义


|数据表示内容|长度（字节）|数据类型|有效值范围|
| :-| :-| :-| :-| 
|年|1| BYTE|0~99|
|月|1|  BYTE|0~12|
|日|1| BYTE|0~31|
|小时|1| BYTE|0~24|
|分钟|1| BYTE|0~59|
|秒|1| BYTE|0~59|